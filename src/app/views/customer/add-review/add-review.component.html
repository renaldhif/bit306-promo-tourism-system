<app-header></app-header>
<form [formGroup]="ratingForm" (ngSubmit)="onSubmit()">
  <div class="flex flex-col items-center justify-center">
    <div class="flex flex-col items-center justify-center mt-8">
      <p class="text-2xl font-bold text-primary">Add Review</p>
    </div>

    <!-- Product Overview -->
    <div class="flex flex-col items-center justify-center mt-8 mb-12 w-1/2" *ngIf="order" >
      <div
        class="items-center justify-center border border-border rounded-lg shadow-lg p-4 w-full">
        <div class="flex flex-row items-center justify-start">
          <div class="flex-shrink-0 h-24 w-24 bg-slate-400 rounded-lg mr-8">
            <img src="{{ getProductImageURL(order.products[0].image) }}" alt="Product {{ order.products[0].title }} photo"
              class="h-full w-full object-cover rounded-lg">
          </div>
          <div class="flex flex-col mt-4 md:mt-0 flex-grow">
            <h2 class="font-semibold text-lg text-textPrimary">{{ order.products[0].title }}</h2>
          </div>
        </div>
      </div>
    </div>

    <div class="flex flex-col items-center justify-center ">
      <app-star-rating [(rating)]="selectedRating" (ratingChange)="onRatingChange()" (ngSubmit)="onSubmit()">
      </app-star-rating>

      <!-- //* Rating Number -->
      <!-- <p class="text-xl font-bold text-primary">{{ selectedRating }}</p> -->

      <!-- //*Rating Description -->
      <p *ngIf="selectedRating === 0"><br></p>
      <p class="text-xl font-bold text-primary mt-2">{{ratingDescription }}</p>

    </div>

    <!-- //* Comments -->
    <div class="my-8 w-1/2 border border-border rounded-lg shadow-lg px-4 pt-6 pb-3">
      <textarea class="w-full" placeholder="Tell us about your journey" formControlName="comments"></textarea>
    </div>

    <!-- //* Submit Review button -->
    <div
      class="flex items-center justify-center bg-primary hover:bg-blue-600 text-white rounded-lg p-4 my-2 hover:transition-colors w-1/2"
      (click)="onSubmit()"
    >
      <button color="primary" type="submit" class="text-lg">Submit Review</button>
    </div>
  </div>
</form>
